apiVersion: kubeadm.k8s.io/v1beta3
kind: ClusterConfiguration
kubernetesVersion: "{{ kubeadm_kubernetes_version }}"
controlPlaneEndpoint: "{{ kubeadm_control_plane_endpoint }}"
networking:
  podSubnet: "{{ kubeadm_pod_network_cidr }}"
  serviceSubnet: "{{ kubeadm_service_cidr }}"
  dnsDomain: "{{ kubeadm_dns_domain }}"
---
apiVersion: kubeproxy.config.k8s.io/v1alpha1
kind: KubeProxyConfiguration
mode: "iptables"
nodeRegistration:
  name: "{{ ansible_hostname }}"  # ‚Üê added for explicit node name
  criSocket: /var/run/crio/crio.sock
